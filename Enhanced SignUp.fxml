<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.shape.*?>
<?import javafx.geometry.Insets?>
<?import javafx.collections.FXCollections?>

<VBox xmlns="http://javafx.com/javafx/17.0.2-ea" 
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.dormitory.controllers.AuthController"
      stylesheets="@../css/dashboard.css"
      alignment="CENTER"
      spacing="0"
      style="-fx-background-color: #f4f6f9;">

    <!-- Modern Window Header -->
    <HBox styleClass="title-bar" alignment="CENTER_RIGHT" spacing="10">
        <Region HBox.hgrow="ALWAYS"/>
        <StackPane>
            <Circle radius="15" fill="rgba(255,255,255,0.1)"/>
            <Button text="_" onAction="#minimizeApplication" styleClass="window-button"/>
        </StackPane>
        <StackPane>
            <Circle radius="15" fill="rgba(255,255,255,0.1)"/>
            <Button text="âœ•" onAction="#closeApplication" styleClass="window-button close-button"/>
        </StackPane>
    </HBox>

    <!-- Main Content -->
    <StackPane prefWidth="900" prefHeight="650">
        <!-- Glass Effect Container -->
        <VBox styleClass="form-container" maxWidth="800" maxHeight="550" spacing="40" alignment="CENTER"
              style="-fx-padding: 50px; -fx-background-radius: 30px;">
            
            <!-- Header -->
            <VBox alignment="CENTER" spacing="15">
                <ImageView fitHeight="100.0" fitWidth="100.0" pickOnBounds="true" preserveRatio="true">
                   <image>
                      <Image url="@../images/Picture-1.jpg" />
                   </image>
                </ImageView>
                <VBox alignment="CENTER" spacing="5">
                    <Text text="Create Your Account" styleClass="section-title"/>
                    <Text text="Join the Dormitory Management System" style="-fx-fill: #718096;"/>
                </VBox>
            </VBox>
            
            <!-- Role Selection Cards -->
            <GridPane hgap="30" vgap="30">
                <columnConstraints>
                    <ColumnConstraints percentWidth="50"/>
                    <ColumnConstraints percentWidth="50"/>
                </columnConstraints>
                
                <!-- Student Card -->
                <VBox styleClass="modern-card" onMouseClicked="#goToStudentSignUp" 
                      style="-fx-cursor: hand; -fx-padding: 30px; -fx-border-color: #2E8B57; -fx-border-radius: 10;" spacing="20">
                    <HBox spacing="15" alignment="CENTER">
                        <StackPane>
                            <Circle radius="25" fill="rgba(46, 139, 87, 0.1)"/>
                            <Label text="ðŸ‘¨â€ðŸŽ“" style="-fx-font-size: 20px;"/>
                        </StackPane>
                        <VBox>
                            <Label text="Student" style="-fx-font-size: 20px; -fx-font-weight: 800; -fx-text-fill: #2E8B57;"/>
                            <Label text="Dormitory Resident" style="-fx-text-fill: #718096;"/>
                        </VBox>
                    </HBox>
                    <Text text="Register as a dormitory student with ID from Student Service" 
                          style="-fx-fill: #4a5568; -fx-font-size: 14px;" wrapText="true"/>
                    <Button text="Register as Student â†’" onAction="#goToStudentSignUp" styleClass="primary-button"/>
                </VBox>
                
                <!-- Proctor Card -->
                <VBox styleClass="modern-card" onMouseClicked="#goToProctorSignUp" 
                      style="-fx-cursor: hand; -fx-padding: 30px; -fx-border-color: #2E8B57; -fx-border-radius: 10;" spacing="20">
                    <HBox spacing="15" alignment="CENTER">
                        <StackPane>
                            <Circle radius="25" fill="rgba(46, 139, 87, 0.1)"/>
                            <Label text="ðŸ‘¨â€ðŸ«" style="-fx-font-size: 20px;"/>
                        </StackPane>
                        <VBox>
                            <Label text="Proctor" style="-fx-font-size: 20px; -fx-font-weight: 800; -fx-text-fill: #2E8B57;"/>
                            <Label text="Dormitory Manager" style="-fx-text-fill: #718096;"/>
                        </VBox>
                    </HBox>
                    <Text text="Register as a proctor with ID from Student Service" 
                          style="-fx-fill: #4a5568; -fx-font-size: 14px;" wrapText="true"/>
                    <Button text="Register as Proctor â†’" onAction="#goToProctorSignUp" styleClass="primary-button"/>
                </VBox>
            </GridPane>
            
            <!-- Divider -->
            <HBox alignment="CENTER" spacing="15">
                <Region style="-fx-background-color: #e2e8f0; -fx-pref-height: 1; -fx-pref-width: 150;"/>
                <Label text="or" style="-fx-text-fill: #a0aec0;"/>
                <Region style="-fx-background-color: #e2e8f0; -fx-pref-height: 1; -fx-pref-width: 150;"/>
            </HBox>
            
            <!-- Already have account -->
            <HBox alignment="CENTER" spacing="10">
                <Label text="Already have an account?" style="-fx-text-fill: #718096;"/>
                <Button text="Sign In Now" onAction="#goToLogin" 
                       style="-fx-background-color: transparent; -fx-text-fill: #2E8B57; -fx-font-weight: 700; -fx-font-size: 16px; -fx-cursor: hand;"/>
            </HBox>
        </VBox>
    </StackPane>
</VBox>